const c=document.getElementById("bg-canvas"),i=c.getContext("2d"),g=300,a=400,m=150;let o,r,d=[];class w{constructor(){this.init()}init(){this.x=(Math.random()-.5)*o*2,this.y=(Math.random()-.5)*r*2,this.z=Math.random()*a*2,this.color=Math.random()>.5?"249, 192, 48":"255, 255, 255",this.vx=(Math.random()-.5)*1.5,this.vy=(Math.random()-.5)*1.5,this.vz=(Math.random()-.5)*1.5}update(){this.x+=this.vx,this.y+=this.vy,this.z+=this.vz;const t=o*1.5,s=r*1.5,n=-a,h=a*2;this.x>t&&(this.x=-t),this.x<-t&&(this.x=t),this.y>s&&(this.y=-s),this.y<-s&&(this.y=s),this.z>h&&(this.z=n),this.z<n&&(this.z=h)}project(){let t=a/(a+this.z);return{x:this.x*t+o/2,y:this.y*t+r/2,scale:t,alpha:Math.min(1,t*1.2)}}}function u(){o=c.width=window.innerWidth,r=c.height=window.innerHeight,d=Array.from({length:g},()=>new w)}function v(e,t,s){s.forEach(n=>{if(e===n)return;let h=e.x-n.x,l=e.y-n.y,y=e.z-n.z,x=Math.sqrt(h*h+l*l+y*y);if(x<m){let f=n.project(),M=(1-x/m)*t.alpha*.5;i.strokeStyle=`rgba(255, 255, 255, ${M})`,i.lineWidth=1*t.scale,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(f.x,f.y),i.stroke()}})}function z(){i.clearRect(0,0,o,r),d.forEach(e=>{e.update();let t=e.project();v(e,t,d),i.fillStyle=`rgba(${e.color}, ${t.alpha})`,i.beginPath(),i.arc(t.x,t.y,3*t.scale,0,Math.PI*2),i.fill()}),requestAnimationFrame(z)}window.addEventListener("resize",u);u();z();
