import{createClient as I}from"https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const d of t)if(d.type==="childList")for(const r of d.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function e(t){const d={};return t.integrity&&(d.integrity=t.integrity),t.referrerPolicy&&(d.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?d.credentials="include":t.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(t){if(t.ep)return;t.ep=!0;const d=e(t);fetch(t.href,d)}})();const B="https://opzechnwukuqfvfaytfx.supabase.co",x="sb_publishable_w87ezT-fcldEAO653BOpwQ_UvJtX51_",w=I(B,x);async function T(o,n){try{const e=await fetch(n);if(!e.ok)throw new Error(`Failed to load ${n}`);const s=await e.text(),t=document.getElementById(o);t&&(t.innerHTML=s,k())}catch(e){console.error("Error loading component:",e)}}function k(){const o=document.getElementById("theme-toggle"),n=document.getElementById("theme-toggle-dark-icon"),e=document.getElementById("theme-toggle-light-icon"),s=document.getElementById("profile-view"),t=document.getElementById("profile-btn"),d=document.getElementById("name_email"),r=document.getElementById("log-out"),p=document.getElementById("sidebar-toggle-mobile"),a=document.getElementById("sidebar"),u=document.getElementById("sidebar-btn"),L=document.querySelectorAll(".nav-text"),h=document.getElementById("sidebar_text"),f=document.getElementById("sidebar-backdrop"),l=document.getElementById("header"),y=document.getElementById("mobilelesswidth");y&&window.innerWidth<400&&y.classList.replace("gap-5","gap-3"),t&&s&&(t.addEventListener("click",async c=>{t.classList.replace("dark:text-white","text-amber-400");const{data:{user:i},error:v}=await w.auth.getUser();d&&i&&(d.innerHTML=`${i.user_metadata.display_name} <br> ${i.email}`),v&&b(v),c.stopPropagation(),s.classList.toggle("hidden")}),document.addEventListener("click",()=>{s.classList.add("hidden"),t.classList.replace("text-amber-400","dark:text-white")}),s.addEventListener("click",c=>{c.stopPropagation()})),r&&r.addEventListener("click",async c=>{c.preventDefault(),c.stopPropagation();const{error:i}=await w.auth.signOut({scope:"global"});i?b(i):(M("Logged Out successfully"),window.location.href="../auth/login.html")});function E(){s&&s.classList.add("hidden"),a&&(a.classList.remove("translate-x-0"),a.classList.add("-translate-x-full")),f&&f.classList.add("hidden"),document.body.style.overflow=""}p&&a&&f&&(p.addEventListener("click",c=>{c.stopPropagation(),a.classList.contains("-translate-x-full")?(f.classList.remove("hidden"),a.classList.remove("-translate-x-full"),a.classList.add("translate-x-0"),document.body.style.overflow="hidden",s&&s.classList.add("hidden")):E()}),f.addEventListener("click",()=>{E()}));const g=document.getElementById("main");u&&a&&L&&h&&l&&u.addEventListener("click",()=>{a.classList.contains("w-64")?(u.classList.add("md:-mx-8"),a.classList.remove("w-64","px-10"),a.classList.add("w-28","px-8"),h.classList.add("hidden"),l.classList.remove("gap-9"),l.classList.add("justify-center"),l.classList.replace("md:left-64","md:left-28"),g.classList.remove("md:ml-64"),g.classList.add("md:ml-28"),L.forEach(i=>{i.classList.add("hidden"),i.parentElement&&i.parentElement.classList.add("justify-center")})):(u.classList.remove("md:-mx-8"),a.classList.remove("w-28","px-2"),a.classList.add("w-64","px-10"),h.classList.remove("hidden"),l.classList.add("gap-9"),l.classList.remove("justify-center"),l.classList.replace("md:left-28","md:left-64"),g.classList.add("md:ml-64"),g.classList.remove("md:ml-28"),L.forEach(i=>{i.classList.remove("hidden"),i.parentElement&&i.parentElement.classList.remove("justify-center")}))}),o&&n&&e&&(localStorage.getItem("color-theme")==="dark"?(document.documentElement.classList.add("dark"),e.classList.remove("hidden"),n.classList.add("hidden")):(document.documentElement.classList.remove("dark"),e.classList.add("hidden"),n.classList.remove("hidden")),o.addEventListener("click",function(){document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light"),n.classList.remove("hidden"),e.classList.add("hidden")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"),n.classList.add("hidden"),e.classList.remove("hidden"))}))}document.addEventListener("DOMContentLoaded",function(){T("navigation-container","../shared/main.html")});async function O(o,n){try{const e=await fetch(n);if(!e.ok)throw new Error(`Failed to load ${n}`);const s=await e.text(),t=document.getElementById(o);t&&(t.innerHTML=s)}catch(e){console.error("Error loading component:",e)}}document.addEventListener("DOMContentLoaded",function(){O("notification-container","../shared/notifications.html")});let m;function M(o){const n=document.getElementById("fail-notification"),e=document.getElementById("good-notification"),s=document.getElementById("pass-msg");e.classList.remove("hidden"),s.innerText=o,m&&(n.classList.add("hidden"),clearTimeout(m)),m=setTimeout(()=>{e.classList.add("hidden")},2e3)}function b(o){const n=document.getElementById("good-notification"),e=document.getElementById("fail-notification"),s=document.getElementById("fail-msg");e.classList.remove("hidden"),s.innerText=o,m&&(n.classList.add("hidden"),clearTimeout(m)),m=setTimeout(()=>{e.classList.add("hidden")},2e3)}document.addEventListener("DOMContentLoaded",async function(){const n=await(await fetch("../shared/loading.html")).text(),e=document.createElement("div");e.id="page-loader",e.style.cssText="display:none; position:fixed; inset:0; z-index:9999; background:rgba(0,0,0,1); justify-content:center; align-items:center;",e.innerHTML=n,document.body.appendChild(e),P()});function P(){const o=document.getElementById("page-loader");window.addEventListener("load",()=>{o.style.display="none"}),document.addEventListener("click",function(n){const e=n.target.closest("a");if(e&&e.hostname===window.location.hostname&&e.href&&!e.href.startsWith("#")){n.preventDefault(),o.style.display="flex";const s=e.href;setTimeout(()=>{window.location.href=s},500)}})}export{b as F,M as P};
