import{F as n,P as u}from"./loader-yIERnUXV.js";import"./animation-CygCfK5E.js";import{s as m}from"./supabaseClient-BnuRKQFQ.js";import"https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";const s=document.getElementById("email"),i=document.getElementById("password"),c=document.querySelector(".registerbtn"),r=document.getElementById("loginbtn");async function p(){const e=s.value;if(!e.endsWith("@gectcr.ac.in")){n("Access Denied: You must use a valid GEC College email (@gectcr.ac.in)");return}const t=i.value,{data:o,error:a}=await m.auth.signUp({email:e,password:t});a?n("Sign Up Failed!",a.message):(document.getElementById("success-notification").classList.remove("hidden"),window.location.href="../marketplace/market-place.html")}async function f(){const e=s.value,t=i.value,{data:o,error:a}=await m.auth.signInWithPassword({email:e,password:t});if(a)n("Invalid Login Credentials");else{u("Login successful");const l=document.getElementById("page-loader");l&&(l.style.display="flex"),setTimeout(()=>{window.location.href="../marketplace/market-place.html"},500)}}c&&c.addEventListener("click",e=>{e.preventDefault(),p()});r&&r.addEventListener("click",e=>{e.preventDefault(),f()});i.addEventListener("keydown",function(e){e.key==="Enter"&&(window.location.href="../marketplace/market-place.html")});const d=document.getElementById("mail-req");s.addEventListener("input",e=>{const t=e.target.value;t!==""&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?d.classList.replace("hidden","block"):d.classList.replace("block","hidden")});
