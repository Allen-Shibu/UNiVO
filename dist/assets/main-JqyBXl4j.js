import{s as d}from"./supabaseClient-CvA8JclF.js";const l=document.getElementById("name"),a=document.getElementById("email"),o=document.getElementById("password"),u=document.getElementById("repassword"),c=document.querySelector(".registerbtn"),r=document.getElementById("loginbtn");document.getElementById("fail-notification");async function m(){const e=a.value,n=l.value;if(!e.endsWith("@gectcr.ac.in")){alert("Access Denied: You must use a valid GEC College email (@gectcr.ac.in)");return}const i=o.value,t=window.location.origin;console.log(t);const{data:p,error:s}=await d.auth.signUp({email:e,password:i,name:n,options:{emailRedirectTo:`${t}/login.html`,data:{display_name:n}}});s?alert("Sign Up Failed!"+s.message):(alert("Verification email sent! Please check your inbox to activate your account."),l.value="",u.value="",a.value="",o.value="")}async function g(){const e=a.value,n=o.value,{data:i,error:t}=await d.auth.signInWithPassword({email:e,password:n});t?(console.log("Login Failed!"+t.message),FailNotification()):window.location.href="market-place.html"}c&&c.addEventListener("click",e=>{e.preventDefault(),m()});r&&r.addEventListener("click",e=>{e.preventDefault(),g()});
