import{s as c}from"./supabaseClient-CvA8JclF.js";const n=document.getElementById("sidebar"),l=document.getElementById("sidebar-logo"),h=document.getElementById("sidebar-btn"),r=document.querySelectorAll(".nav-text"),a=document.getElementById("sidebar-header"),m=document.getElementById("sidebar_text"),i=document.getElementById("main");h.addEventListener("click",()=>{n.classList.contains("w-64")?(n.classList.remove("w-64","px-10"),n.classList.add("w-29","px-9.5"),i.classList.remove("ml-64"),i.classList.add("ml-28"),l.classList.add("hidden"),m.classList.add("hidden"),a.classList.remove("gap-16"),a.classList.add("justify-center"),r.forEach(e=>{e.classList.add("hidden"),e.parentElement.classList.add("justify-center")})):(n.classList.remove("w-28","px-2"),n.classList.add("w-64","px-10"),i.classList.add("ml-64"),i.classList.remove("ml-28"),l.classList.remove("hidden"),m.classList.remove("hidden"),a.classList.add("gap-16"),a.classList.remove("justify-center"),r.forEach(e=>{e.classList.remove("hidden"),e.parentElement.classList.remove("justify-center")}))});document.addEventListener("DOMContentLoaded",()=>{const d=document.getElementById("theme-toggle"),e=document.getElementById("theme-toggle-dark-icon"),t=document.getElementById("theme-toggle-light-icon");localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),t.classList.remove("hidden"),e.classList.add("hidden")):(document.documentElement.classList.remove("dark"),t.classList.add("hidden"),e.classList.remove("hidden")),d.addEventListener("click",function(){e.classList.toggle("hidden"),t.classList.toggle("hidden"),document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))})});async function L(){const d=document.getElementById("product-grid"),{data:e,error:t}=await c.from("products").select("*");t?alert(t):e.forEach(s=>{const o=document.createElement("div");o.innerHTML=`
      <div class="flex flex-row relative overflow-hidden rounded-2xl">
          <img src="${s.image_url}" class="w-full h-64 object-cover hover:scale-105 transition-transform duration-300">
          <button class="wishlist-btn absolute top-3 right-3 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:text-red-500 transition-colors shadow-sm" data-id="${s.id}">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 pointer-events-none">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
            </svg>
          </button>
      </div>

        <div class="mt-3">
          <p class="font-bold text-lg dark:text-white">${s.title}</p>
          <span class="font-bold text-lg text-green-600">â‚¹${s.price}</span>
        </div>`,d.appendChild(o)})}L();function v(){document.getElementById("product-grid").addEventListener("click",async e=>{const t=e.target.closest(".wishlist-btn");if(!t)return;e.preventDefault();const{data:{user:s}}=await c.auth.getUser();s||alert("You must be logged in to save the products");const o=t.querySelector("svg");o.style.fill="red",o.style.stroke="red";const u=t.dataset.id,{error:g}=await c.from("wishlist").insert([{product_id:u,user_id:s.id}]);alert(g?"Item already added to wishlist":"Product added to your wishlist")})}v();
